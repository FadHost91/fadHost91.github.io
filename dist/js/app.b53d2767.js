(function(){"use strict";var o={1745:function(o,t,e){var i=e(9242),n=e(3396);const r={id:"app"};function s(o,t,e,i,s,d){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(a)])}var d={},a=e(89);const l=(0,a.Z)(d,[["render",s]]);var c=l;const u=["value"];function m(o,t,e,i,r,s){return(0,n.wg)(),(0,n.iD)("input",{type:"text",value:e.modelValue,onInput:t[0]||(t[0]=(...o)=>s.updateInput&&s.updateInput(...o)),class:"input"},null,40,u)}var h={name:"el-input",props:{modelValue:[String,Number]},methods:{updateInput(o){this.$emit("update:modelValue",o.target.value)}}};const T=(0,a.Z)(h,[["render",m],["__scopeId","data-v-67ec090a"]]);var p=T;const _={class:"app-btn",type:"button"};function v(o,t,e,i,r,s){return(0,n.wg)(),(0,n.iD)("button",_,[(0,n.WI)(o.$slots,"default")])}var D={name:"el-button"};const O=(0,a.Z)(D,[["render",v]]);var g=O;const f={key:0,class:"dialog"},k=["show"],E=(0,n._)("p",null,"Вы точно хотите удалить эту туду?",-1);function S(o,t,e,r,s,d){const a=(0,n.up)("el-button");return o.$store.getters.DIALOG_VISIBLE?((0,n.wg)(),(0,n.iD)("div",f,[(0,n.wy)((0,n._)("div",{onClick:t[1]||(t[1]=(0,i.iM)((()=>{}),["stop"])),class:"dialog__content",show:o.$store.getters.DIALOG_VISIBLE},[E,(0,n._)("label",null,[(0,n._)("input",{type:"checkbox",name:"checkbox",onChange:t[0]||(t[0]=(...o)=>d.checkedCheckbox&&d.checkedCheckbox(...o))},null,32),(0,n.Uk)(" Больше не показывать это окно ")]),(0,n.Wm)(a,{onClick:d.removeTodoAfterClick},{default:(0,n.w5)((()=>[(0,n.Uk)("Подтвердить")])),_:1},8,["onClick"])],8,k),[[i.F8,!e.isDialogShown]])])):(0,n.kq)("",!0)}var C={name:"el-dialog",props:{isDialogShown:{type:Boolean,required:!0}},data(){return{checkCheckbox:!1}},methods:{removeTodoAfterClick(){this.$emit("removeTodoAfterClick")},checkedCheckbox(){this.checkCheckbox=!this.checkCheckbox,this.$store.commit("SET_CHECKED_CHECKBOX",this.checkCheckbox)}},mounted(){}};const $=(0,a.Z)(C,[["render",S]]);var w=$,b=[p,g,w],y=e(7139);const A={class:"todo-app"},x={class:"todo-app__title"},I={key:1};function R(o,t,e,i,r,s){const d=(0,n.up)("AddTodo"),a=(0,n.up)("router-link"),l=(0,n.up)("TodoList"),c=(0,n.up)("el-dialog");return(0,n.wg)(),(0,n.iD)("div",A,[(0,n._)("h1",x,(0,y.zw)(r.title),1),(0,n.Wm)(d,{onCreateTodo:s.addTodo},null,8,["onCreateTodo"]),(0,n.Wm)(a,{class:"todo-app__link",to:"/done-todos"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Перейти к сделанным туду ")])),_:1}),o.$store.getters.TODOS.length>0?((0,n.wg)(),(0,n.j4)(l,{key:0,todos:o.$store.getters.TODOS,taskDone:o.$store.getters.TASK_DONE,onRemoveTodo:s.removeTodo,onRemoveTodoAfterClick:s.removeTodoAfterClick},null,8,["todos","taskDone","onRemoveTodo","onRemoveTodoAfterClick"])):((0,n.wg)(),(0,n.iD)("div",I,"Задач нет")),(0,n.Wm)(c,{isDialogShown:r.isDialogShown,onRemoveTodoAfterClick:s.removeTodoAfterClick},null,8,["isDialogShown","onRemoveTodoAfterClick"])])}const V={class:"todo-list"};function K(o,t,e,r,s,d){const a=(0,n.up)("TodoItem");return(0,n.wg)(),(0,n.iD)("ul",V,[(0,n.Wm)(i.W3,{name:"todo-list"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.todos,((o,t)=>((0,n.wg)(),(0,n.j4)(a,{todo:o,index:t,key:o,onRemoveTodo:d.removeTodo,onRemoveTodoAfterClick:d.removeTodoAfterClick},null,8,["todo","index","onRemoveTodo","onRemoveTodoAfterClick"])))),128))])),_:1})])}const L={class:"todo-item__title"},H={class:"todo-item__text"},N={class:"todo-item__btns-wrapper"};function B(o,t,e,i,r,s){const d=(0,n.up)("el-button");return(0,n.wg)(),(0,n.iD)("li",{class:(0,y.C_)(["todo-item",{"todo-item--done":o.$store.state.taskDone}])},[(0,n._)("h2",L,(0,y.zw)(e.index+1)+". "+(0,y.zw)(e.todo.title),1),(0,n._)("p",H,(0,y.zw)(e.todo.text),1),(0,n._)("button",{type:"button",onClick:t[0]||(t[0]=(...o)=>s.removeTodo&&s.removeTodo(...o))}," Удалить "),(0,n._)("div",N,[o.$store.getters.TASK_DONE?((0,n.wg)(),(0,n.j4)(d,{key:1,class:"todo-item__button",type:"button",onClick:s.changeTaskStatement},{default:(0,n.w5)((()=>[(0,n.Uk)("Undone")])),_:1},8,["onClick"])):((0,n.wg)(),(0,n.j4)(d,{key:0,class:"todo-item__button",type:"button",onClick:s.changeTaskStatement},{default:(0,n.w5)((()=>[(0,n.Uk)("Done")])),_:1},8,["onClick"]))])],2)}var j={name:"TodoItem",components:{},props:{todo:{type:Object,required:!0},index:{type:Number,required:!0}},data(){return{}},methods:{removeTodo(){this.$emit("removeTodo",this.todo)},changeTaskStatement(){this.$store.getters.TASK_DONE?(console.log(this.todo),this.$store.commit("MOVE_TO_OTHER_ARRAY",{array:"doneTodos",otherArray:"todos",todo:this.todo})):this.$store.commit("MOVE_TO_OTHER_ARRAY",{array:"todos",otherArray:"doneTodos",todo:this.todo})}}};const G=(0,a.Z)(j,[["render",B]]);var M=G,W={name:"TodoList",components:{TodoItem:M},data(){return{}},props:{todos:{type:Array,required:!0}},methods:{removeTodo(o){this.$emit("removeTodo",o)},removeTodoAfterClick(o){this.$emit("removeTodoAfterClick",o)}}};const Z=(0,a.Z)(W,[["render",K]]);var U=Z;const q={class:"add-todo"},z={for:"title",class:"todo-form__label"},Y={for:"text",class:"todo-form__label"},X=(0,n._)("button",{type:"submit",class:"todo-form__button"},"Добавить",-1);function J(o,t,e,r,s,d){const a=(0,n.up)("el-input");return(0,n.wg)(),(0,n.iD)("div",q,[(0,n._)("form",{class:"todo-form",onSubmit:t[2]||(t[2]=(0,i.iM)(((...o)=>d.createTodo&&d.createTodo(...o)),["prevent"]))},[(0,n._)("label",z,[(0,n.Wm)(a,{name:"title",id:"title",modelValue:r.v$.todo.title.$model,"onUpdate:modelValue":t[0]||(t[0]=o=>r.v$.todo.title.$model=o),placeholder:"введите название задачи"},null,8,["modelValue"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.v$.todo.title.$errors,(o=>((0,n.wg)(),(0,n.iD)("span",{key:o.$uid},(0,y.zw)(o.$message),1)))),128))]),(0,n._)("label",Y,[(0,n.Wm)(a,{type:"text",name:"text",id:"text",modelValue:r.v$.todo.text.$model,"onUpdate:modelValue":t[1]||(t[1]=o=>r.v$.todo.text.$model=o),placeholder:"введите описание задачи"},null,8,["modelValue"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.v$.todo.text.$errors,(o=>((0,n.wg)(),(0,n.iD)("span",{key:o.$uid},(0,y.zw)(o.$message),1)))),128))]),X],32)])}var P=e(3053),F=e(9117),Q={name:"AddTodo",setup(){return{v$:(0,P.ZP)()}},components:{},data(){return{todo:{title:"",text:""}}},validations(){return{todo:{title:{required:F.C1,$autoDirty:!0},text:{required:F.C1,$autoDirty:!0}}}},methods:{async createTodo(){const o=await this.v$.todo.$validate();if(o){const o={id:Date.now(),title:this.todo.title,text:this.todo.text};this.$emit("createTodo",o),this.clearTodo(),this.v$.$reset()}},clearTodo(){this.todo={title:"",text:""}}}};const oo=(0,a.Z)(Q,[["render",J]]);var to=oo,eo={components:{TodoList:U,AddTodo:to},data(){return{title:"Туду лист",isDialogShown:!1}},todo:"",methods:{addTodo(o){this.$store.commit("ADD_TODO",{array:"todos",todo:o})},removeTodo(o){this.$options.todo=o,this.isDialogShown?this.$store.commit("REMOVE_TODO",{array:"todos",todo:o}):this.$store.commit("SET_DIALOG_VISIBLE",!0)},removeTodoAfterClick(){this.$store.commit("REMOVE_TODO",{array:"todos",todo:this.$options.todo}),this.isDialogShown||this.hideDialog()},hideDialog(){this.$store.state.checkedCheckbox&&(this.isDialogShown=!0,console.log(this.isDialogShown,123)),this.$store.commit("SET_DIALOG_VISIBLE",!1)}},computed:{},mounted(){this.$store.dispatch("GET_TODOS","todos"),this.$store.commit("SET_TASKDONE",!1),this.$store.commit("SET_CHECKED_CHECKBOX",!1)}};const io=(0,a.Z)(eo,[["render",R]]);var no=io;const ro={class:"todo-app"},so={class:"todo-app__title"},ao={key:1};function lo(o,t,e,i,r,s){const d=(0,n.up)("TodoList"),a=(0,n.up)("el-dialog");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ro,[(0,n._)("h1",so,(0,y.zw)(r.title),1),o.$store.getters.DONE_TODOS.length>0?((0,n.wg)(),(0,n.j4)(d,{key:0,todos:o.$store.getters.DONE_TODOS,onRemoveTodo:s.removeTodo},null,8,["todos","onRemoveTodo"])):((0,n.wg)(),(0,n.iD)("div",ao,"Задач нет"))]),(0,n.Wm)(a,{isDialogShown:r.isDialogShown,onRemoveTodoAfterClick:s.removeTodoAfterClick},null,8,["isDialogShown","onRemoveTodoAfterClick"])],64)}var co={components:{TodoList:U},data(){return{title:"Cделанные туду",isDialogShown:!1}},methods:{removeTodo(o){this.$options.todo=o,this.isDialogShown?this.$store.commit("REMOVE_TODO",{array:"doneTodos",todo:o}):this.$store.commit("SET_DIALOG_VISIBLE",!0)},removeTodoAfterClick(){this.$store.commit("REMOVE_TODO",{array:"doneTodos",todo:this.$options.todo}),this.hideDialog()},hideDialog(){this.$store.getters.CHECKED_CHECKBOX&&(this.isDialogShown=!0),0===this.$store.getters.DONE_TODOS.length&&(this.isDialogShown=!1,this.$store.commit("SET_DIALOG_VISIBLE",!1))}},mounted(){this.$store.dispatch("GET_TODOS","doneTodos"),this.$store.commit("SET_TASKDONE",!0),this.$store.commit("SET_CHECKED_CHECKBOX",!1)}};const uo=(0,a.Z)(co,[["render",lo]]);var mo=uo,ho=e(2483);const To=[{path:"/",redirect:"/todos"},{path:"/todos",component:no},{path:"/done-todos",component:mo}],po=(0,ho.p7)({routes:To,history:(0,ho.PO)("/dist/")});var _o=po,vo=(e(7658),e(65)),Do=(0,vo.MT)({state:{todos:[{id:"1",title:"Поесть",text:"Пельмешки подойдут2342342"},{id:"2",title:"Поспать",text:"Часов бы до июня"},{id:"3",title:"Погамать",text:"Evil Dead the Game збс"}],doneTodos:[{id:"1",title:"Сделанное туту",text:"123123"}],taskDone:!1,dialogVisible:!1,checkedCheckbox:!1},getters:{TODOS:o=>o.todos,DONE_TODOS:o=>o.doneTodos,TASK_DONE:o=>o.taskDone,DIALOG_VISIBLE:o=>o.dialogVisible,CHECKED_CHECKBOX:o=>o.checkedCheckbox},mutations:{SET_TODOS(o,t){o.todos=t},SET_DONETODOS(o,t){o.doneTodos=t},SET_TASKDONE(o,t){o.taskDone=t},SET_DIALOG_VISIBLE(o,t){o.dialogVisible=t},SET_CHECKED_CHECKBOX(o,t){o.checkedCheckbox=t},ADD_TODO(o,{array:t,todo:e}={}){o[t].push(e),localStorage.setItem(t,JSON.stringify(o[t]))},REMOVE_TODO(o,{array:t,todo:e}={}){o[t]=o[t].filter((o=>o.id!=e.id)),localStorage.setItem(t,JSON.stringify(o[t]))},MOVE_TO_OTHER_ARRAY(o,{array:t,otherArray:e,todo:i}={}){o[t]=o[t].filter((n=>(localStorage.setItem(t,JSON.stringify(o[e])),n.id!=i.id))),o[e].push(i),localStorage.setItem(e,JSON.stringify(o[e]))}},actions:{GET_TODOS({commit:o},t){localStorage.getItem(`${t}`)&&o(`SET_${t.toUpperCase()}`,JSON.parse(localStorage.getItem(`${t}`)))}}});const Oo=(0,i.ri)(c);b.forEach((o=>{Oo.component(o.name,o)})),Oo.use(_o).use(Do).mount("#app")}},t={};function e(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return o[i](r,r.exports,e),r.exports}e.m=o,function(){var o=[];e.O=function(t,i,n,r){if(!i){var s=1/0;for(c=0;c<o.length;c++){i=o[c][0],n=o[c][1],r=o[c][2];for(var d=!0,a=0;a<i.length;a++)(!1&r||s>=r)&&Object.keys(e.O).every((function(o){return e.O[o](i[a])}))?i.splice(a--,1):(d=!1,r<s&&(s=r));if(d){o.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=o.length;c>0&&o[c-1][2]>r;c--)o[c]=o[c-1];o[c]=[i,n,r]}}(),function(){e.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return e.d(t,{a:t}),t}}(),function(){e.d=function(o,t){for(var i in t)e.o(t,i)&&!e.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:t[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}}(),function(){var o={143:0};e.O.j=function(t){return 0===o[t]};var t=function(t,i){var n,r,s=i[0],d=i[1],a=i[2],l=0;if(s.some((function(t){return 0!==o[t]}))){for(n in d)e.o(d,n)&&(e.m[n]=d[n]);if(a)var c=a(e)}for(t&&t(i);l<s.length;l++)r=s[l],e.o(o,r)&&o[r]&&o[r][0](),o[r]=0;return e.O(c)},i=self["webpackChunktodo_list"]=self["webpackChunktodo_list"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(1745)}));i=e.O(i)})();
//# sourceMappingURL=app.b53d2767.js.map